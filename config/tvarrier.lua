
host = { }
tile = { }

-- 4 hosts: 1 server, 3 clients.

host[0]  = E.add_host("default",       0, 0, 800, 600)
host[1]  = E.add_host("tvarrier1-10",  0, 0, 3200, 1200)
host[2]  = E.add_host("tvarrier2-10",  0, 0, 3200, 1200)
host[3]  = E.add_host("tvarrier3-10",  0, 0, 3200, 1200)

E.set_host_flags(host[0], E.host_flag_framed, true);

-- Tile host numbers.

num = {
    [0] = host[0],
    host[1],
    host[1],
    host[2],
    host[2],
    host[3],
    host[3],
}

-- Tile sub-windows.

w = {
   { 1600,    0, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   {    0,    0, 1600, 1200 }
}

-- Tile viewports.

v = {
   {      0,    0, 1600, 1200 },
   {      0, 1328, 1600, 1200 },
   {   1728,    0, 1600, 1200 },
   {   1728, 1328, 1600, 1200 },
   {   3456,    0, 1600, 1200 },
   {   3456, 1328, 1600, 1200 },
}

-- Tile screen locations.

p = {
    {{ -2.0965, 3.8930, -5.0178 },
     { -2.0965, 4.8930, -5.0178 },
     { -0.7665, 3.8930, -5.0362 }}, -- lower left
    {{ -2.0932, 4.9889, -5.0124 },
     { -2.0932, 5.9889, -5.0124 },
     { -0.7632, 4.9889, -5.0215 }}, -- upper left
    {{ -0.6696, 3.8936, -5.0314 },
     { -0.6696, 4.8936, -5.0314 },
     {  0.6604, 3.8936, -5.0237 }}, -- lower center
    {{ -0.6670, 4.9878, -5.0292 },
     { -0.6670, 5.9878, -5.0292 },
     {  0.6630, 4.9878, -5.0270 }}, -- upper center
    {{  0.7562, 3.9000, -5.0195 },
     {  0.7562, 4.9000, -5.0195 },
     {  2.0862, 3.9000, -5.0280 }}, -- lower right
    {{  0.7599, 4.9937, -5.0320 },
     {  0.7599, 5.9937, -5.0320 },
     {  2.0899, 4.9937, -5.0229 }}  -- upper right
}

-- Varrier line screen definitions.

line_screen = {
    { 268.42671, -7.79, 0.0357, -0.0002, 0.75 }, -- 1
    { 268.42671, -7.74, 0.0354, -0.0007, 0.75 }, -- 2
    { 268.42671, -7.83, 0.0357, -0.0011, 0.75 }, -- 3
    { 268.42671, -7.80, 0.0367, -0.0002, 0.75 }, -- 4
    { 268.42671, -7.82, 0.0347, -0.0043, 0.75 }, -- 5
    { 268.42671, -7.79, 0.0349, -0.0020, 0.75 }, -- 6
}

-- Mirror a tile on the server.

mirror = 2;

w[0] = w[mirror];
v[0] = v[mirror];
p[0] = p[mirror];

line_screen[0] = line_screen[mirror];

-------------------------------------------------------------------------------

-- Configure all tiles.

for i = 0, 6 do

    tile[i] = E.add_tile(num[i], w[i][1], w[i][2], w[i][3], w[i][4])
    E.set_tile_viewport(tile[i], v[i][1], v[i][2], v[i][3], v[i][4])

    E.set_tile_position(tile[i],
                        p[i][1][1],
                        p[i][1][2],
                        p[i][1][3],
                        p[i][3][1] - p[i][1][1],
                        p[i][3][2] - p[i][1][2],
                        p[i][3][3] - p[i][1][3],
                        p[i][2][1] - p[i][1][1],
                        p[i][2][2] - p[i][1][2],
                        p[i][2][3] - p[i][1][3]);

    varrier_init()
end

-------------------------------------------------------------------------------
