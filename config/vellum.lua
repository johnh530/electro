eye_x =  2.50 / 12.0 * 0.5
eye_y = -2.50 / 12.0
eye_z =  1.50 / 12.0

--eye_x = 2.50 / 12.0 * 0.5
--eye_y = -3.00 / 12.0
--eye_z =  1.00 / 12.0

host = { }
tile = { }

-- 16 hosts: 1 server, 15 clients.

host[0]  = E.add_host("default",      0,    0, 800,  600)
host[1]  = E.add_host("vellum1-10",   0,    0, 3200, 2400)
host[2]  = E.add_host("vellum2-10",   0,    0, 3200, 2400)
host[3]  = E.add_host("vellum3-10",   0,    0, 3200, 2400)
host[4]  = E.add_host("vellum4-10",   0,    0, 3200, 2400)
host[5]  = E.add_host("vellum5-10",   0,    0, 3200, 2400)
host[6]  = E.add_host("vellum6-10",   0,    0, 3200, 2400)
host[7]  = E.add_host("vellum7-10",   0,    0, 3200, 2400)
host[8]  = E.add_host("vellum8-10",   0,    0, 3200, 2400)
host[9]  = E.add_host("vellum9-10",   0,    0, 3200, 2400)
host[10]  = E.add_host("vellum10-10", 0,    0, 3200, 2400)
host[11]  = E.add_host("vellum11-10", 0,    0, 3200, 2400)
host[12]  = E.add_host("vellum12-10", 0,    0, 3200, 2400)
host[13]  = E.add_host("vellum13-10", 0,    0, 3200, 2400)
host[14]  = E.add_host("vellum14-10", 0,    0, 3200, 2400)
host[15]  = E.add_host("vellum15-10", 0,    0, 3200, 2400)

E.set_host_flags(host[0], E.host_flag_framed, true);

-- Tile host numbers.

num = {
   host[15], host[15], host[15], host[15], host[10], host[10], host[10], host[10], host[5], host[5], host[5], host[5],
   host[14], host[14], host[14], host[14], host[ 9], host[ 9], host[ 9], host[ 9], host[4], host[4], host[4], host[4],
   host[13], host[13], host[13], host[13], host[ 8], host[ 8], host[ 8], host[ 8], host[3], host[3], host[3], host[3],
   host[12], host[12], host[12], host[12], host[ 7], host[ 7], host[ 7], host[ 7], host[2], host[2], host[2], host[2],
   host[11], host[11], host[11], host[11], host[ 6], host[ 6], host[ 6], host[ 6], host[1], host[1], host[1], host[1],
}

-- Tile sub-windows

w = {
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },

   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },

   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },

   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },

   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
   {    0,    0, 1600, 1200 },
   {    0, 1200, 1600, 1200 },
   { 1600,    0, 1600, 1200 },
   { 1600, 1200, 1600, 1200 },
}

-- Tile viewports.

v = {
   {      0,    0,    1600, 1200 },
   {   1728,    0,    1600, 1200 },
   {   3456,    0,    1600, 1200 },
   {   5184,    0,    1600, 1200 },
   {   6912,    0,    1600, 1200 },
   {   8640,    0,    1600, 1200 },
   {   10368,   0,    1600, 1200 },
   {   12096,   0,    1600, 1200 },
   {   13824,   0,    1600, 1200 },
   {   15552,   0,    1600, 1200 },
   {   17280,   0,    1600, 1200 },
   {   19008,   0,    1600, 1200 },

   {      0,    1328, 1600, 1200 },
   {   1728,    1328, 1600, 1200 },
   {   3456,    1328, 1600, 1200 },
   {   5184,    1328, 1600, 1200 },
   {   6912,    1328, 1600, 1200 },
   {   8640,    1328, 1600, 1200 },
   {   10368,   1328, 1600, 1200 },
   {   12096,   1328, 1600, 1200 },
   {   13824,   1328, 1600, 1200 },
   {   15552,   1328, 1600, 1200 },
   {   17280,   1328, 1600, 1200 },
   {   19008,   1328, 1600, 1200 },

   {      0,    2656, 1600, 1200 },
   {   1728,    2656, 1600, 1200 },
   {   3456,    2656, 1600, 1200 },
   {   5184,    2656, 1600, 1200 },
   {   6912,    2656, 1600, 1200 },
   {   8640,    2656, 1600, 1200 },
   {   10368,   2656, 1600, 1200 },
   {   12096,   2656, 1600, 1200 },
   {   13824,   2656, 1600, 1200 },
   {   15552,   2656, 1600, 1200 },
   {   17280,   2656, 1600, 1200 },
   {   19008,   2656, 1600, 1200 },

   {      0,    3984, 1600, 1200 },
   {   1728,    3984, 1600, 1200 },
   {   3456,    3984, 1600, 1200 },
   {   5184,    3984, 1600, 1200 },
   {   6912,    3984, 1600, 1200 },
   {   8640,    3984, 1600, 1200 },
   {   10368,   3984, 1600, 1200 },
   {   12096,   3984, 1600, 1200 },
   {   13824,   3984, 1600, 1200 },
   {   15552,   3984, 1600, 1200 },
   {   17280,   3984, 1600, 1200 },
   {   19008,   3984, 1600, 1200 },

   {      0,    5312, 1600, 1200 },
   {   1728,    5312, 1600, 1200 },
   {   3456,    5312, 1600, 1200 },
   {   5184,    5312, 1600, 1200 },
   {   6912,    5312, 1600, 1200 },
   {   8640,    5312, 1600, 1200 },
   {   10368,   5312, 1600, 1200 },
   {   12096,   5312, 1600, 1200 },
   {   13824,   5312, 1600, 1200 },
   {   15552,   5312, 1600, 1200 },
   {   17280,   5312, 1600, 1200 },
   {   19008,   5312, 1600, 1200 },
}

-- Tile screen locations.

p = {

-- row 1 from bottom
{ -4.7547, 1.5459, 0.6620, -0.0992, -0.0000, -1.3263, -0.0000, 1.0000, -0.0000 },
{ -4.8353, 1.5405, -0.7548, 0.2762, -0.0000, -1.3010, -0.0000, 1.0000, -0.0000 },
{ -4.5227, 1.5454, -2.1410, 0.7438, -0.0000, -1.1026, -0.0000, 1.0000, -0.0000 },
{ -3.7233, 1.5362, -3.3223, 0.9735, 0.0000, -0.9062, -0.0000, 1.0000, -0.0000 },
{ -2.6867, 1.5383, -4.2895, 1.2358, 0.0000, -0.4916, -0.0000, 1.0000, -0.0000 },
{ -1.3612, 1.5348, -4.7881, 1.3169, 0.0000, -0.1859, -0.0000, 1.0000, -0.0000 },
{ 0.0483, 1.5439, -4.9570, 1.3081, 0.0000, 0.2402, -0.0000, 1.0000, -0.0000 },
{ 1.4365, 1.5349, -4.6690, 1.2082, 0.0000, 0.5560, -0.0000, 1.0000, -0.0000 },
{ 2.7175, 1.5320, -4.0578, 1.0408, 0.0000, 0.8280, -0.0000, 1.0000, -0.0000 },
{ 3.8199, 1.5252, -3.1666, 0.6945, 0.0000, 1.1343, -0.0000, 1.0000, -0.0000 },
{ 4.5554, 1.5322, -1.9444, 0.2977, 0.0000, 1.2962, -0.0000, 1.0000, -0.0000 },
{ 4.8400, 1.5271, -0.5580, -0.0394, 0.0000, 1.3294, -0.0000, 1.0000, -0.0000 },

--row2
{ -4.7413, 2.6376, 0.6630, -0.1046, -0.0000, -1.3259, -0.0000, 1.0000, -0.0000 },
{ -4.8316, 2.6317, -0.7526, 0.2739, -0.0000, -1.3015, -0.0000, 1.0000, -0.0000 },
{ -4.5208, 2.6346, -2.1384, 0.7318, -0.0000, -1.1105, -0.0000, 1.0000, -0.0000 },
{ -3.7290, 2.6260, -3.3240, 0.9757, 0.0000, -0.9039, -0.0000, 1.0000, -0.0000 },
{ -2.6899, 2.6284, -4.2915, 1.2345, 0.0000, -0.4948, -0.0000, 1.0000, -0.0000 },
{ -1.3608, 2.6242, -4.7861, 1.3166, 0.0000, -0.1885, -0.0000, 1.0000, -0.0000 },
{ 0.0421, 2.6326, -4.9545, 1.3059, 0.0000, 0.2518, -0.0000, 1.0000, -0.0000 },
{ 1.4345, 2.6227, -4.6695, 1.2040, 0.0000, 0.5650, -0.0000, 1.0000, -0.0000 },
{ 2.7151, 2.6196, -4.0544, 1.0474, 0.0000, 0.8197, -0.0000, 1.0000, -0.0000 },
{ 3.8244, 2.6132, -3.1738, 0.6933, 0.0000, 1.1350, -0.0000, 1.0000, -0.0000 },
{ 4.5526, 2.6203, -1.9457, 0.3029, 0.0000, 1.2950, -0.0000, 1.0000, -0.0000 },
{ 4.8494, 2.6155, -0.5613, -0.0428, 0.0000, 1.3293, -0.0000, 1.0000, -0.0000 },


--row3
{ -4.7359, 3.7294, 0.6636, -0.1045, -0.0000, -1.3259, -0.0000, 1.0000, -0.0000 },
{ -4.8400, 3.7213, -0.7525, 0.2867, -0.0000, -1.2987, -0.0000, 1.0000, -0.0000 },
{ -4.5153, 3.7251, -2.1358, 0.7265, -0.0000, -1.1140, -0.0000, 1.0000, -0.0000 },
{ -3.7299, 3.7159, -3.3192, 0.9699, 0.0000, -0.9101, -0.0000, 1.0000, -0.0000 },
{ -2.6939, 3.7198, -4.2908, 1.2363, 0.0000, -0.4904, -0.0000, 1.0000, -0.0000 },
{ -1.3646, 3.7143, -4.7893, 1.3165, 0.0000, -0.1889, -0.0000, 1.0000, -0.0000 },
{ 0.0413, 3.7216, -4.9477, 1.3064, 0.0000, 0.2494, -0.0000, 1.0000, -0.0000 },
{ 1.4302, 3.7125, -4.6629, 1.2035, 0.0000, 0.5660, -0.0000, 1.0000, -0.0000 },
{ 2.7136, 3.7108, -4.0478, 1.0489, 0.0000, 0.8177, -0.0000, 1.0000, -0.0000 },
{ 3.8294, 3.7043, -3.1712, 0.6967, 0.0000, 1.1329, -0.0000, 1.0000, -0.0000 },
{ 4.5557, 3.7101, -1.9476, 0.3013, 0.0000, 1.2954, -0.0000, 1.0000, -0.0000 },
{ 4.8522, 3.7051, -0.5633, -0.0390, 0.0000, 1.3294, -0.0000, 1.0000, -0.0000 },

--row4
{ -4.7318, 4.8198, 0.6652, -0.1032, -0.0000, -1.3260, -0.0000, 1.0000, -0.0000 },
{ -4.8418, 4.8134, -0.7494, 0.2946, -0.0000, -1.2969, -0.0000, 1.0000, -0.0000 },
{ -4.5157, 4.8145, -2.1335, 0.7232, -0.0000, -1.1162, -0.0000, 1.0000, -0.0000 },
{ -3.7401, 4.8044, -3.3262, 0.9731, 0.0000, -0.9066, -0.0000, 1.0000, -0.0000 },
{ -2.6974, 4.8118, -4.2907, 1.2362, 0.0000, -0.4907, -0.0000, 1.0000, -0.0000 },
{ -1.3641, 4.8049, -4.7855, 1.3162, 0.0000, -0.1910, -0.0000, 1.0000, -0.0000 },
{ 0.0388, 4.8109, -4.9500, 1.3032, 0.0000, 0.2654, -0.0000, 1.0000, -0.0000 },
{ 1.4274, 4.8011, -4.6579, 1.2025, 0.0000, 0.5682, -0.0000, 1.0000, -0.0000 },
{ 2.7140, 4.8004, -4.0516, 1.0465, 0.0000, 0.8208, -0.0000, 1.0000, -0.0000 },
{ 3.8304, 4.7949, -3.1738, 0.6931, 0.0000, 1.1351, -0.0000, 1.0000, -0.0000 },
{ 4.5577, 4.8000, -1.9487, 0.2982, 0.0000, 1.2961, -0.0000, 1.0000, -0.0000 },
{ 4.8563, 4.7941, -0.5626, -0.0422, 0.0000, 1.3293, -0.0000, 1.0000, -0.0000 },


--row5
{ -4.7225, 5.9098, 0.6635, -0.1103, -0.0000, -1.3254, -0.0000, 1.0000, -0.0000 },
{ -4.8441, 5.9038, -0.7523, 0.3006, -0.0000, -1.2956, -0.0000, 1.0000, -0.0000 },
{ -4.5118, 5.9038, -2.1335, 0.7080, -0.0000, -1.1259, -0.0000, 1.0000, -0.0000 },
{ -3.7395, 5.8948, -3.3236, 0.9718, 0.0000, -0.9080, -0.0000, 1.0000, -0.0000 },
{ -2.6990, 5.9053, -4.2860, 1.2364, 0.0000, -0.4900, -0.0000, 1.0000, -0.0000 },
{ -1.3701, 5.8958, -4.7857, 1.3168, 0.0000, -0.1869, -0.0000, 1.0000, -0.0000 },
{ 0.0361, 5.9009, -4.9443, 1.3020, 0.0000, 0.2713, -0.0000, 1.0000, -0.0000 },
{ 1.4257, 5.8907, -4.6504, 1.2024, 0.0000, 0.5684, -0.0000, 1.0000, -0.0000 },
{ 2.7117, 5.8916, -4.0457, 1.0466, 0.0000, 0.8206, -0.0000, 1.0000, -0.0000 },
{ 3.8255, 5.8861, -3.1692, 0.7000, 0.0000, 1.1309, -0.0000, 1.0000, -0.0000 },
{ 4.5563, 5.8899, -1.9505, 0.2948, 0.0000, 1.2969, -0.0000, 1.0000, -0.0000 },
{ 4.8578, 5.8829, -0.5649, -0.0340, 0.0000, 1.3296, -0.0000, 1.0000, -0.0000 },
}


-- Varrier line screen definitions.
-- PITCH, ANGLE, OPTICAL THICKNES, SHIFT, DUTY CYCLE
-- For this Varrier (Vellum) Pitch should be 536.85342
--

line_screen = {
    [0] = { 536.85342, -10.46, 0.0244, -0.00025, 0.75 },
    [1] = { 536.85342, -10.445, 0.0231, 0.00055, 0.75 },
    [2] = { 536.85342, -10.47, 0.0226, -0.0018, 0.75 },
    [3] = { 536.85342, -10.5, 0.023, -0.0013, 0.75 },
    [4] = { 536.85342, -10.465, 0.0229, -0.0011, 0.75 },
    [5] = { 536.85342, -10.48, 0.0245, -0.00065, 0.75 },
    [6] = { 536.85342, -10.51, 0.0239, -0.0003, 0.75 },
    [7] = { 536.85342, -10.485, 0.0254, 0.00035, 0.75 },
    [8] = { 536.85342, -10.47, 0.0234, 0.0006, 0.75 },
    [9] = { 536.85342, -10.465, 0.0227, -0.00145, 0.75 },
    [10] = { 536.85342, -10.445, 0.0239, -0.00115, 0.75 },
    [11] = { 536.85342, -10.52, 0.025, 0.00095, 0.75 },
    [12] = { 536.85342, -10.49, 0.0237, -0.0008, 0.75 },
    [13] = { 536.85342, -10.43, 0.025, -0.0008, 0.75 },
    [14] = { 536.85342, -10.445, 0.0227, -0.00035, 0.75 },
    [15] = { 536.85342, -10.45, 0.0236, -0.0003, 0.75 },
    [16] = { 536.85342, -10.48, 0.0228, -0.00065, 0.75 },
    [17] = { 536.85342, -10.44, 0.0245, -0.0001, 0.75 },
    [18] = { 536.85342, -10.44, 0.0235, 0.0002, 0.75 },
    [19] = { 536.85342, -10.43, 0.0252, -0.00125, 0.75 },
    [20] = { 536.85342, -10.42, 0.0234, -0.0011, 0.75 },
    [21] = { 536.85342, -10.47, 0.0236, -0.0016, 0.75 },
    [22] = { 536.85342, -10.44, 0.0244, -0.00015, 0.75 },
    [23] = { 536.85342, -10.46, 0.0233, -0.00085, 0.75 },
    [24] = { 536.85342, -10.46, 0.0246, 0.0007, 0.75 },
    [25] = { 536.85342, -10.405, 0.0239, -0.0018, 0.75 },
    [26] = { 536.85342, -10.46, 0.0221, -0.00085, 0.75 },
    [27] = { 536.85342, -10.48, 0.0235, 0.0003, 0.75 },
    [28] = { 536.85342, -10.475, 0.0229, -0.0004, 0.75 },
    [29] = { 536.85342, -10.44, 0.024, 0.0007, 0.75 },
    [30] = { 536.85342, -10.46, 0.0244, -0.00025, 0.75 },
    [31] = { 536.85342, -10.445, 0.0244, 0.0004, 0.75 },
    [32] = { 536.85342, -10.49, 0.0237, 5e-05, 0.75 },
    [33] = { 536.85342, -10.43, 0.0234, -0.00265, 0.75 },
    [34] = { 536.85342, -10.46, 0.0235, -0.00085, 0.75 },
    [35] = { 536.85342, -10.46, 0.0241, 0.0007, 0.75 },
    [36] = { 536.85342, -10.5, 0.0233, -0.0007, 0.75 },
    [37] = { 536.85342, -10.37, 0.0224, 0.00015, 0.75 },
    [38] = { 536.85342, -10.495, 0.0235, -0.00155, 0.75 },
    [39] = { 536.85342, -10.45, 0.0234, -0.0009, 0.75 },
    [40] = { 536.85342, -10.495, 0.0232, -0.001, 0.75 },
    [41] = { 536.85342, -10.46, 0.0234, -0.0007, 0.75 },
    [42] = { 536.85342, -10.46, 0.0225, -0.0005, 0.75 },
    [43] = { 536.85342, -10.46, 0.0238, -0.0026, 0.75 },
    [44] = { 536.85342, -10.46, 0.0236, 0.0005, 0.75 },
    [45] = { 536.85342, -10.48, 0.0241, -0.00295, 0.75 },
    [46] = { 536.85342, -10.47, 0.0228, 0.0005, 0.75 },
    [47] = { 536.85342, -10.46, 0.0233, -0.00285, 0.75 },
    [48] = { 536.85342, -10.39, 0.0239, -0.0028, 0.75 },
    [49] = { 536.85342, -10.44, 0.0226, -0.00025, 0.75 },
    [50] = { 536.85342, -10.5, 0.023, -0.00105, 0.75 },
    [51] = { 536.85342, -10.43, 0.0232, -0.00035, 0.75 },
    [52] = { 536.85342, -10.52, 0.0242, -0.0013, 0.75 },
    [53] = { 536.85342, -10.54, 0.0226, 0.0003, 0.75 },
    [54] = { 536.85342, -10.46, 0.0231, -0.00045, 0.75 },
    [55] = { 536.85342, -10.48, 0.025, 0.00045, 0.75 },
    [56] = { 536.85342, -10.49, 0.023, -0.0004, 0.75 },
    [57] = { 536.85342, -10.43, 0.0254, -0.0041, 0.75 },
    [58] = { 536.85342, -10.46, 0.0232, -0.0011, 0.75 },
    [59] = { 536.85342, -10.48, 0.0229, -0.0003, 0.75 },
    [60] = { 536.83342, -10.48, 0.0233, 0.0005, 0.75 },
}
-- Mirror the center tile on the server.

num[0] = 0

line_screen[0] = line_screen[30]
w[0] = w[30]
v[0] = v[30]
p[0] = p[30]

-------------------------------------------------------------------------------

-- Configure all hosts.

for i = 0, 60 do

    tile[i] = E.add_tile(num[i], w[i][1], w[i][2], w[i][3], w[i][4])

    E.set_tile_viewport(tile[i], v[i][1], v[i][2], v[i][3], v[i][4])
    E.set_tile_position(tile[i], p[i][1], p[i][2], p[i][3], p[i][4],
                        p[i][5], p[i][6], p[i][7], p[i][8], p[i][9])
end

varrier_init()

-------------------------------------------------------------------------------
--  0  1  0  0
-- -1  0  0  0
--  0  0  1  0
--  0  0  0  1
-- Headband (head)
E.set_tracker_transform(0, 1, 0, 0, 0,
                           0, 1, 0, 0,
                           0, 0, 1, 0,
                           0, 0, 0, 1, 0, 1, 2)
-- Flystick (wanda)
E.set_tracker_transform(1, 1,  0, 0, 0,
                           0,  1, 0, 0,
                           0,  0, 1, 0,
                           0,  0, 0, 1, 0, 1, 2)

-- Original settings, with ART standard coord system and trackd command transforms
--E.set_tracker_transform(0, 1, 0, 0, 0,
--                           0, 1, 0, 0,
--                           0, 0, 1, 0,
--                           0, 0, 0, 1, 0, 1, 2)
--E.set_tracker_transform(1, 0, -1, 0, 0,
--                           1,  0, 0, 0,
--                           0,  0, 1, 0,
--                           0,  0, 0, 1, 0, 1, 2)

-------------------------------------------------------------------------------
